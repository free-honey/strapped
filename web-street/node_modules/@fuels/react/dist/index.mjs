import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';
import { createContext, memo, useMemo, useContext, useState, useEffect, useCallback, useRef } from 'react';
import * as Fe from '@radix-ui/react-dialog';
import { CHAIN_IDS, Provider, Address, Contract, TransactionResponse, Fuel, bn } from 'fuels';
import { jsxs, jsx, Fragment } from 'react/jsx-runtime';

function Kr(e){return {get(r,o){return o===e?Reflect.get(r,"data"):Reflect.get(r,o)}}}function y(e,t,r){let o=useQuery(t,r);return useMemo(()=>new Proxy(o,Kr(e)),[e,o])}var pt=()=>{let{fuel:e}=p(),{mutate:t,mutateAsync:r,...o}=useMutation({mutationFn:async n=>(n&&await e.selectConnector(n),e.connect())});return {connect:t,connectAsync:r,...o}};var a={base:["fuel"],account:()=>a.base.concat("account"),accounts:()=>a.base.concat("accounts"),assets:()=>a.base.concat("assets"),contract:(e,t,r)=>{let o=a.base.concat("contract").concat(e);return typeof r<"u"&&o.push(r),typeof t<"u"&&o.push(t),o},chain:()=>a.base.concat("chain"),chainId:()=>a.base.concat("chain-id"),isConnected:()=>a.base.concat("isConnected"),networks:()=>a.base.concat("networks"),provider:()=>a.base.concat("provider"),balance:(e,t,r)=>{let o=a.base.concat("balance");return e&&o.push(e),t&&o.push(t),r!==void 0&&o.push(r),o},wallet:(e,t)=>{let r=a.base.concat("wallet");return e&&r.push(e),t&&r.push(t),r},transaction:e=>{let t=a.base.concat("transaction");return e&&t.push(e),t},transactionReceipts:(e,t)=>{let r=a.transaction(e).concat("receipts");return t!==void 0&&r.push(t),r},transactionResult:(e,t)=>{let r=a.transaction(e).concat("result");return t!==void 0&&r.push(t),r},nodeInfo:e=>{let t=a.base.concat("nodeInfo");return e&&t.push(e),t},connectorList:()=>a.base.concat("connectorList"),currentConnector:()=>a.base.concat(["currentConnector"]),currentNetwork:()=>a.base.concat("currentNetwork"),isSupportedNetwork:(e,t,r,o)=>{let n=a.base.concat("isSupportedNetwork");return e&&n.push(e),t&&n.push(t),r&&n.push(r),o&&n.push(o),n}},Se={connect:"connect",addAssets:"addAssets",addNetwork:"addNetwork"};var B=["Bako Safe","Burner Wallet","Fuel Wallet","Fuel Wallet Development","Fuelet Wallet"],He={chainId:CHAIN_IDS.fuel.mainnet,url:"https://mainnet.fuel.network/v1/graphql",bridgeURL:"https://app.fuel.network/bridge?from=eth&to=fuel&auto_close=true"},mt=[{chainId:CHAIN_IDS.fuel.testnet,url:"https://testnet.fuel.network/v1/graphql",bridgeURL:"https://app-testnet.fuel.network/bridge?from=eth&to=fuel&auto_close=true"},{chainId:CHAIN_IDS.fuel.devnet,url:"https://devnet.fuel.network/v1/graphql",bridgeURL:"https://app-devnet.fuel.network/bridge?from=eth&to=fuel&auto_close=true"},He];function Te(e){return B.includes(e?.name)}var ft=({query:e}={})=>{let{fuel:t}=p();return y("connectors",{queryKey:a.connectorList(),queryFn:async()=>t.connectors(),placeholderData:[],...e})};var Ct=createContext(null);var P=()=>{let e=useContext(Ct);if(!e)throw new Error("useConnectUI must be used within a FuelUIProvider");return e},Or=e=>e.sort((t,r)=>{if(t.connected!==r.connected)return t.connected?-1:1;let o=B.includes(t.name)&&t.installed,n=B.includes(r.name)&&r.installed;return o!==n?o?-1:1:t.name.localeCompare(r.name)});function ht({fuelConfig:e,children:t,theme:r,uiConfig:o}){let{isPending:n,isError:c,connectAsync:d}=pt(),{connectors:l,isLoading:u}=ft({query:{select:Or}}),{isConnected:m}=W(),[h,S]=useState(null),[T,b]=useState("LIST"),[D,re]=useState(!1),[f,w]=useState(null);useEffect(()=>{if(!h)return;let x=l.find(g=>g.name===h.name);x&&h.installed!==x?.installed&&S(x);},[l,h]);let F=useCallback(()=>{w(null),S(null),b("LIST");},[]),z=useCallback(async x=>{try{w(null),await d(x.name);}catch(g){w(g);}},[d]),ie=useCallback(async x=>{b("CONNECTING"),await z(x);},[z]),ve=useCallback(async x=>{S(x),x.installed?Te(x)?ie(x):b("PREDICATE_EXTERNAL_DISCLAIMER"):b("INSTALL");},[ie]),be=useMemo(()=>{let x=(e.connectors||[]).length>l.length;return u||x},[l,u,e]),xe=useCallback(()=>{S(null),w(null),b("LIST"),re(!0);},[]),Pe=useCallback(()=>{w(null),re(!1);},[]);useEffect(()=>{let x=document.createElement("style");return x.appendChild(document.createTextNode(`@import url("https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,100..900&display=swap"); .fuel-connectors * { box-sizing: border-box; } .fuel-connectors .fuel-connectors-dialog-content:focus { outline: none; } @media (max-width: 430px) { .fuel-connectors .fuel-connectors-dialog-content { top: 50%; width: 100%; border-radius: 36px; } } .fuel-connectors .fuel-connectors-connector-item { transition: background-color 50ms cubic-bezier(0.16, 1, 0.3, 1); background-color: var(--fuel-connector-background); } .fuel-connectors .fuel-connectors-connector-item:active { opacity: 0.8; } .fuel-connectors .fuel-connectors-connector-item:hover { background-color: var(--fuel-connector-hover); } .fuel-connectors .fuel-connectors-connector-button { transition: background-color 50ms cubic-bezier(0.16, 1, 0.3, 1); background-color: var(--fuel-button-background); color: var(--fuel-color-bold); } .fuel-connectors .fuel-connectors-connector-button:visited { color: var(--fuel-color-bold); } .fuel-connectors .fuel-connectors-connector-button:hover { background-color: var(--fuel-button-background-hover); } .fuel-connectors .fuel-connectors-connector-button-primary { transition: background-color 50ms cubic-bezier(0.16, 1, 0.3, 1); background-color: var(--fuel-green-11); color: var(--fuel-black-color); } .fuel-connectors .fuel-connectors-connector-button-primary:visited { color: var(--fuel-black-color); } .fuel-connectors .fuel-connectors-connector-button-primary:hover { background-color: var(--fuel-green-11); } .fuel-connectors .fuel-connectors-back-icon { transition: background-color 50ms cubic-bezier(0.16, 1, 0.3, 1); } .fuel-connectors .fuel-connectors-back-icon[data-connector='false'] { visibility: hidden; } .fuel-connectors .fuel-connectors-back-icon:hover, .fuel-connectors .fuel-connectors-back-icon:active { opacity: 1; background-color: var(--fuel-connector-hover); } .fuel-connectors .fuel-connectors-close-icon { transition: background-color 50ms cubic-bezier(0.16, 1, 0.3, 1); } .fuel-connectors .fuel-connectors-close-icon:hover, .fuel-connectors .fuel-connectors-close-icon:active { opacity: 1; background-color: var(--fuel-connector-hover); } .fuel-connectors .fuel-connectors-button-base { cursor: pointer; } .fuel-connectors .fuel-connectors-button:disabled { cursor: not-allowed; } .fuel-connectors .fuel-connectors-button { transition: background-color 50ms cubic-bezier(0.16, 1, 0.3, 1); background-color: var(--fuel-green-11); } .fuel-connectors .fuel-connectors-button:disabled { background-color: var(--fuel-border-color); } .fuel-connectors .fuel-connectors-button-disconnect { transition: background-color 50ms cubic-bezier(0.16, 1, 0.3, 1); background-color: var(--fuel-button-background); } .fuel-connectors .fuel-connectors-button-disconnect:hover { background-color: var(--fuel-button-background-hover); } .fuel-connectors .fuel-connectors-link-underline:hover { text-decoration: underline; } @keyframes fuelOverlayShow { from { opacity: 0; } to { opacity: 1; } } @keyframes fuelSpin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } } @keyframes fuelContentShow { from { opacity: 0; transform: translate(-50%, -48%) scale(0.96); } to { opacity: 1; transform: translate(-50%, -50%) scale(1); } } @keyframes fuelLoader { 0% { background-position: -468px 0 } 100% { background-position: 468px 0 } }`)),document.head.appendChild(x),()=>{document.head.removeChild(x);}},[]);let We=useMemo(()=>({theme:r||"light",fuelConfig:e,uiConfig:o,error:f,setError:w,isConnected:!!m,isConnecting:n,isLoading:be,isError:c,connectors:l,connect:xe,cancel:Pe,dialog:{route:T,setRoute:b,connector:h,isOpen:D,connect:ve,retryConnect:z,back:F,_startConnection:ie}}),[r,e,o,f,m,n,be,c,l,h,T,D,Pe,ie,ve,xe,z,F]);return jsx(Ct.Provider,{value:We,children:t})}var vt=(e,t)=>{let{image:r}=e;return typeof r=="object"?t==="dark"?r.dark:r.light:r};function ce({connectorName:e,connectorMetadata:t,...r}){return t.image?jsx("img",{height:`${r.size}px`,width:`${r.size}px`,src:vt(t,r.theme),alt:`${e} icon`}):null}var ze={textAlign:"center",fontSize:"1.2em",fontWeight:500,color:"var(--fuel-color-bold)",margin:"0 0 0.4em 0",padding:"0 1.8em"},Z=({children:e})=>jsx("h2",{style:ze,children:e}),De={color:"var(--fuel-gray-12)",fontSize:"0.9em",fontWeight:400,textAlign:"center",margin:"0 1.2em",lineHeight:"1.2em",padding:"0 2em",opacity:.8},_=({children:e})=>jsx("p",{style:De,children:e}),_r={color:"var(--fuel-gray-12)",fontSize:"0.8em",fontWeight:400,textAlign:"center",margin:"2em auto 0",lineHeight:"1.2em",padding:"0 2em",opacity:.5},bt=({children:e})=>jsx("p",{style:_r,children:e}),Yr={...De,color:"var(--fuel-color-error)"},xt=({children:e})=>jsx("p",{style:Yr,children:e}),Gr={display:"flex",justifyContent:"center",height:"6.2em",width:"100%",marginTop:"1.6em",marginBottom:"1.2em"},$=({children:e})=>jsx("div",{style:Gr,children:e}),Pt={display:"flex",boxSizing:"border-box",textDecoration:"none",cursor:"pointer",justifyContent:"center",alignItems:"center",margin:"0.4rem 1rem 0",padding:"0.6rem 0",fontSize:"0.875em",borderRadius:"var(--fuel-border-radius)"},J=({href:e,children:t,style:r,...o})=>jsx("a",{href:e,style:Pt,...o,className:"fuel-connectors-connector-button",children:t}),_e={display:"flex",flexDirection:"column",gap:"8px",marginBottom:"24px"},V=({children:e})=>jsx("div",{style:_e,children:e}),N=({href:e,children:t,...r})=>jsx("a",{href:e,style:Pt,...r,className:"fuel-connectors-connector-button-primary",children:t});function St(){let{theme:e,dialog:{connector:t,setRoute:r}}=P();if(!t)return null;let{install:{action:o,link:n,description:c}}=t.metadata;useEffect(()=>{(async()=>{await t.ping()&&r("CONNECTING");})();},[t,r]);let d=o||"Install";return jsxs("div",{children:[jsx($,{children:jsx(ce,{connectorMetadata:t.metadata,connectorName:t.name,size:100,theme:e})}),jsxs(V,{children:[jsx(Z,{children:t.name}),jsx(_,{children:c})]}),jsx(N,{href:n,target:"_blank",children:d}),jsxs(bt,{children:["If you have installed it and it is not detected,",jsx("br",{}),"try refreshing the page."]})]})}var Ze={display:"flex",alignItems:"center",boxSizing:"border-box",cursor:"pointer",width:"100%",gap:"var(--fuel-items-gap)",padding:"0.8em",borderRadius:"16px",fontWeight:400,transition:"all 0.2s ease-in-out"},ke=({children:e,...t})=>jsx("div",{style:Ze,...t,className:"fuel-connectors-connector-item",children:e}),$r={display:"flex",flexDirection:"column",alignItems:"center",gap:"var(--fuel-items-gap)",padding:"0px 14px"},$e=({children:e})=>jsx("div",{style:$r,children:e}),Jr={fontSize:"0.875em"},Re=({children:e})=>jsx("div",{style:Jr,children:e});var Tt={borderRadius:"var(--fuel-border-radius)",fontSize:"var(--fuel-font-size-xs)",padding:"2px 8px",textTransform:"uppercase",marginLeft:"auto"},wt=({children:e})=>{let t={...Tt,backgroundColor:"var(--fuel-blue-3)",color:"var(--fuel-blue-11)"};return jsx("div",{style:t,children:e})},Dt=({children:e})=>{let t={...Tt,backgroundColor:"var(--fuel-green-3)",color:"var(--fuel-green-11)"};return jsx("div",{style:t,children:e})},kt={width:"100%",color:"#797979",fontSize:"var(--fuel-font-size-xs)",fontStyle:"normal",fontWeight:400,margin:0},Rt=({children:e})=>jsx("p",{style:kt,children:e}),Nt=({children:e})=>{let t={...kt,marginTop:"14px"};return jsx("p",{style:t,children:e})};function jr(){return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(navigator.userAgent)}function eo(){return /FueletMobileApp/i.test(navigator.userAgent)}function to(e){return e==="Fuelet Wallet"&&jr()&&!eo()}function Et({name:e,connected:t,installed:r}){let o=useMemo(()=>!B.includes(e),[e]);return t?jsx(Dt,{children:"Connected"}):!o&&r&&!to(e)?jsx(wt,{children:"Installed"}):null}var oo=({connect:e,theme:t,connector:r,index:o})=>jsxs(ke,{tabIndex:o+1,"aria-label":`Connect to ${r.name}`,"data-installed":r.installed,"data-connected":r.connected,onClick:n=>{n.preventDefault(),e(r);},children:[jsx(ce,{connectorMetadata:r.metadata,connectorName:r.name,size:32,theme:t}),jsx(Re,{children:r.name}),jsx(Et,{name:r.name,connected:r.connected,installed:r.installed})]},r.name),Xe=memo(oo);function At({size:e,...t}){return jsxs("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 16 16",...t,children:[jsx("title",{children:"Back Icon"}),jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.04 1.46a1 1 0 0 1 0 1.41L5.91 8l5.13 5.13a1 1 0 1 1-1.41 1.41L3.79 8.71a1 1 0 0 1 0-1.42l5.84-5.83a1 1 0 0 1 1.41 0Z",clipRule:"evenodd"})]})}function Ut({size:e,...t}){return jsxs("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 16 16",...t,children:[jsx("title",{children:"Close Icon"}),jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.54 2.54a1 1 0 0 1 1.42 0L8 6.6l4.04-4.05a1 1 0 1 1 1.42 1.42L9.4 8l4.05 4.04a1 1 0 0 1-1.42 1.42L8 9.4l-4.04 4.05a1 1 0 0 1-1.42-1.42L6.6 8 2.54 3.96a1 1 0 0 1 0-1.42Z",clipRule:"evenodd"})]})}var so={display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"16px",paddingRight:"16px"},j=({children:e,...t})=>jsx("div",{style:so,...t,children:e}),co={padding:"8px 14px 12px",margin:0,textAlign:"center",fontSize:"var(--fuel-font-size)",fontWeight:500},q=({children:e,...t})=>jsx(Fe.Title,{style:co,...t,children:e}),lo={height:"1px",width:"100%",backgroundColor:"var(--fuel-border-color)",margin:"10px 0",padding:0},ee=e=>jsx("div",{style:lo,...e}),uo={position:"relative",overflowY:"auto"},ue=e=>jsx("div",{style:uo,...e}),po={fill:"var(--fuel-color)",padding:"7px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},de=({size:e,...t})=>jsx(At,{size:e,style:po,...t,className:"fuel-connectors-back-icon"}),mo={fill:"var(--fuel-color)",padding:"7px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},pe=({size:e,...t})=>jsx(Ut,{size:e,style:mo,...t,className:"fuel-connectors-close-icon"});var fo={animationDuration:"1s",animationFillMode:"forwards",animationIterationCount:"infinite",animationName:"fuelLoader",animationTimingFunction:"linear",backgroundColor:"#d1d5d9",background:"var(--fuel-loader-background)",backgroundSize:"1000px 104px",height:"fit-content",position:"relative",overflow:"hidden",color:"transparent",pointerEvents:"none"},je=({children:e,...t})=>jsx("div",{style:fo,...t,children:e});function Lt({items:e}){return Array.from({length:e}).map((r,o)=>jsxs(ke,{children:[jsx(je,{children:jsx("div",{style:{height:32,width:32}})}),jsx(je,{children:jsx(Re,{children:"Fuel Wallet"})})]},o))}var go=["Fuelet Wallet","Burner Wallet","Ethereum Wallets","Solana Wallets"];function Kt(){let{fuelConfig:e,connectors:t,isLoading:r,theme:o,dialog:{connect:n}}=P(),c=useMemo(()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(navigator.userAgent),[]),{native:d,external:l}=useMemo(()=>{let m=c?t.filter(T=>go.some(b=>b===T.name)):t,h=m.filter(T=>!B.includes(T.name));return {native:m.filter(T=>B.includes(T.name)),external:h}},[t,c]),u=!!d.length&&!!l.length;return r?jsx($e,{children:jsx(Lt,{items:e.connectors?.length||2})}):jsxs($e,{children:[u&&jsx(Rt,{children:"Fuel Native Wallets"}),d.map((m,h)=>jsx(Xe,{connect:n,theme:o,connector:m,index:h},m.name)),u&&jsx(Nt,{children:"Non-Native Wallets"}),l.map((m,h)=>jsx(Xe,{connect:n,theme:o,connector:m,index:h},m.name))]})}var Ie=({size:e,color:t})=>{let r={height:`${e}px`,width:`${e}px`,border:"4px solid rgba(0, 0, 0, 0.1)",borderTopColor:t,borderRadius:"50%",animation:"fuelSpin 1s infinite linear"};return jsx("div",{style:r})};function Bt(){let{fuel:e}=p(),t=useQueryClient();function r(){t.invalidateQueries({queryKey:a.account()}),t.invalidateQueries({queryKey:a.isConnected()}),t.invalidateQueries({queryKey:a.wallet()}),t.invalidateQueries({queryKey:a.balance()}),t.invalidateQueries({queryKey:a.provider()}),t.invalidateQueries({queryKey:a.nodeInfo()}),t.invalidateQueries({queryKey:a.accounts()}),t.invalidateQueries({queryKey:a.currentConnector()});}async function o(){t.resetQueries({queryKey:a.connectorList(),exact:!0}),t.invalidateQueries({queryKey:a.currentConnector()});}function n(){t.invalidateQueries({queryKey:a.account()}),t.invalidateQueries({queryKey:a.wallet()}),t.invalidateQueries({queryKey:a.balance()});}function c(){t.invalidateQueries({queryKey:a.currentConnector()}),t.invalidateQueries({queryKey:a.isConnected()}),t.invalidateQueries({queryKey:a.account()}),t.invalidateQueries({queryKey:a.wallet()}),t.invalidateQueries({queryKey:a.balance()}),t.invalidateQueries({queryKey:a.provider()}),t.invalidateQueries({queryKey:a.nodeInfo()}),t.invalidateQueries({queryKey:a.accounts()}),t.resetQueries({queryKey:a.connectorList(),exact:!0});}function d(){t.invalidateQueries({queryKey:a.currentNetwork()}),t.invalidateQueries({queryKey:a.networks()}),t.invalidateQueries({queryKey:a.provider()}),t.invalidateQueries({queryKey:a.transactionReceipts()}),t.invalidateQueries({queryKey:a.chain()}),t.invalidateQueries({queryKey:a.nodeInfo()});}function l(){t.invalidateQueries({queryKey:a.account()}),t.invalidateQueries({queryKey:a.accounts()});}function u(){t.invalidateQueries({queryKey:a.assets()});}return useEffect(()=>(e.on(e.events.currentAccount,n),e.on(e.events.currentConnector,r),e.on(e.events.connectors,o),e.on(e.events.connection,c),e.on(e.events.accounts,l),e.on(e.events.currentNetwork,d),e.on(e.events.assets,u),()=>{e.off(e.events.currentConnector,r),e.off(e.events.currentAccount,n),e.off(e.events.connectors,o),e.off(e.events.connection,c),e.off(e.events.accounts,l),e.off(e.events.currentNetwork,d),e.off(e.events.assets,u);}),[e,t]),null}var Wt=createContext(null),p=()=>{let e=useContext(Wt);if(!e)throw new Error("useFuel must be used within a FuelHooksProvider");return e},et=({children:e,fuelConfig:t,networks:r})=>{let o=useRef(new Fuel(t));return jsxs(Wt.Provider,{value:{fuel:o.current,networks:r},children:[jsx(Bt,{}),e]})};var tt="@fuels/predicate-address-disclaimer";function Ot(){let{cancel:e}=P();return jsxs("div",{children:[jsx(V,{children:jsxs("div",{style:{color:"var(--fuel-blue-a11)",backgroundColor:"var(--fuel-blue-a3)",fontSize:"var(--fuel-font-size-xs)",margin:"0 1.2em",border:"1px solid var(--fuel-blue-6)",borderRadius:"var(--fuel-border-radius)",padding:12},children:[jsx("b",{children:"Please Note:"})," EVM/SVM addresses will differ from your"," ",jsx("b",{children:"Fuel predicate address"}),". This is expected behavior.",jsx("br",{}),jsx("br",{}),"For more details,"," ",jsx("a",{href:"https://github.com/FuelLabs/fuel-connectors/wiki",target:"_blank",rel:"noreferrer",className:"fuel-connectors-link-underline",style:{fontWeight:600},children:"check our documentation"}),"."]})}),jsx(N,{onClick:()=>{localStorage.setItem(tt,Date.now().toString()),e();},children:"Continue to application"})]})}function Ht({className:e}){let{fuel:t}=p(),{error:r,isConnecting:o,theme:n,cancel:c,dialog:{route:d,setRoute:l,connector:u,retryConnect:m},isConnected:h}=P(),[S,T]=useState("connect"),{description:b,operation:D,cta:re}=useMemo(()=>S==="connect"?{description:`Click on the button below to connect to ${location.origin}.`,operation:"connection",cta:"Connect"}:{description:"Sign this message to prove you own this wallet and proceed. Canceling will disconnect you.",operation:"signature",cta:"Sign"},[S]);return useEffect(()=>{if(h&&d==="CONNECTING"&&!o){if(u&&Te(u)){c();return}if(u&&"getAvailablePredicateVersions"in u&&typeof u.getAvailablePredicateVersions=="function"){l("PREDICATE_VERSION_SELECTOR");return}if(localStorage.getItem(tt)){c();return}l("PREDICATE_ADDRESS_DISCLAIMER");}},[h,u,d,l,o,c]),useEffect(()=>{let f=w=>{w.metadata&&"pendingSignature"in w.metadata&&T(w.metadata.pendingSignature?"sign":"connect");};return t.on(t.events.currentConnector,f),()=>{t.off(t.events.currentConnector,f);}},[t]),useEffect(()=>{r&&r.message.includes("Failed to sign message")&&l("SIGNATURE_ERROR");},[r,l]),u?jsxs("div",{className:e,children:[jsx($,{children:jsx(ce,{connectorMetadata:u.metadata,connectorName:u.name,size:100,theme:n})}),jsxs(V,{children:[jsx(Z,{children:u.name}),o?jsxs(_,{children:["Requesting ",D," to ",jsx("br",{})," ",u.name,"."]}):jsx(_,{children:b}),r&&jsx(xt,{children:r.message})]}),o?jsx(J,{children:jsx(Ie,{size:26,color:"var(--fuel-loader-background)"})}):jsx(N,{onClick:()=>m(u),children:re})]}):null}var No={display:"flex",flexDirection:"column",overflow:"hidden",color:"var(--fuel-color)",userSelect:"none",maxHeight:"calc(100% - 20px)",backgroundColor:"var(--fuel-dialog-background)",position:"fixed",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"36px",padding:"14px 0px",paddingBottom:"36px",animation:"fuelContentShow 150ms cubic-bezier(0.16, 1, 0.3, 1)",top:"50%",width:"360px",maxWidth:"calc(100% - 20px)",boxShadow:"hsl(206 22% 7% / 35%) 0px 10px 38px -10px, hsl(206 22% 7% / 20%) 0px 10px 20px -15px"},O=e=>jsx(Fe.Content,{style:No,...e,className:"fuel-connectors-dialog-content",onPointerDownOutside:t=>{document.querySelector("w3m-modal")?.classList.contains("open")&&t.preventDefault();}});var Eo={"--fuel-font-family":'"Inter", "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif',"--fuel-font-size":"16px","--fuel-font-size-xs":"12px","--fuel-letter-spacing":"-0.64px","--fuel-border-radius":"6px","--fuel-items-gap":"8px","--fuel-border":"1px solid var(--fuel-border-color)","--fuel-color-error":"#f25a68"},Fo={"--fuel-color":"#141414","--fuel-color-bold":"#000000","--fuel-dialog-background":"white","--fuel-overlay-background":"rgba(71,88,107,0.24)","--fuel-connector-background":"rgb(250 250 250)","--fuel-connector-hover":"rgb(241 243 244)","--fuel-border-color":"hsl(210deg 9.52% 83.53%)","--fuel-border-hover":"hsla(0, 0%, 78.04%, 1)","--fuel-button-background":"rgb(220 220 220)","--fuel-button-background-hover":"rgb(203 205 207)","--fuel-loader-background":"linear-gradient(to right, hsl(0, 0%, 92%) 8%, hsl(0, 0%, 85%) 18%, hsl(0, 0%, 92%) 33%)","--fuel-green-3":"#D9FCE3","--fuel-green-11":"#008347","--fuel-blue-3":"#E6F4FE","--fuel-blue-6":"#ACD8FC","--fuel-blue-11":"#0D74CE","--fuel-blue-a3":"color(display-p3 0.7686 0.898 1/0.334)","--fuel-blue-a11":"color(display-p3 0 0.3059 0.7333/0.794)","--fuel-gray-10":"#838383","--fuel-gray-11":"#646464","--fuel-gray-12":"#202020","--fuel-separator-color":"rgb(83 79 79 / 13%)","--fuel-black-color":"#FFFFFF"},Ao={"--fuel-color":"#e4e7e7","--fuel-color-bold":"#ffffff","--fuel-dialog-background":"rgb(25 26 26)","--fuel-overlay-background":"rgba(20, 20, 20, 0.8)","--fuel-connector-background":"rgba(255, 255, 255, 0.02)","--fuel-connector-hover":"rgba(255, 255, 255, 0.05)","--fuel-border-color":"rgba(255, 255, 255, 0.05)","--fuel-border-hover":"hsla(0, 0%, 50%, 1)","--fuel-button-background":"hsla(0, 0%, 30%, 1)","--fuel-button-background-hover":"hsla(0, 0%, 40%, 1)","--fuel-loader-background":"linear-gradient(to right, hsl(0, 0%, 20%) 8%, hsl(0, 0%, 25%) 18%, hsl(0, 0%, 20%) 33%)","--fuel-green-3":"#0F2E1B","--fuel-green-11":"#00DD75","--fuel-blue-3":"#0D2847","--fuel-blue-6":"#104D87","--fuel-blue-11":"#70B9FF","--fuel-blue-a3":"color(display-p3 0.1216 0.4627 1/0.219)","--fuel-blue-a11":"color(display-p3 0.5176 0.7373 1/0.975)","--fuel-gray-10":"#7b7b7b","--fuel-gray-11":"#b4b4b4","--fuel-gray-12":"#eee","--fuel-separator-color":"rgb(165 165 165 / 13%)","--fuel-black-color":"#141414"},Qo={light:Fo,dark:Ao},_t=e=>{let t=Qo[e];return {...Eo,...t}};var Uo={backgroundColor:"var(--fuel-overlay-background)",position:"fixed",inset:0,animation:"fuelOverlayShow 150ms cubic-bezier(0.16, 1, 0.3, 1)"},Gt=({children:e})=>jsx(Fe.Overlay,{style:Uo,asChild:!0,children:e}),Mo={position:"fixed",top:0,left:0,bottom:0,right:0,height:"100%",width:"100%",margin:0,padding:0,zIndex:99,fontFamily:"var(--fuel-font-family)",fontSize:"var(--fuel-font-size)"},Zt=({style:e,children:t})=>jsx("div",{className:"fuel-connectors",style:{...Mo,...e},children:t});function H({children:e,theme:t,open:r,onOpenChange:o}){let[n,c]=useState(!1);return useEffect(()=>{c(!0);},[]),n?jsx(Fe.Root,{open:r,onOpenChange:o,children:jsx(Fe.Portal,{children:jsx(Gt,{children:jsx(Zt,{style:_t(t),children:e})})})}):null}var Ko={..._e,gap:"12px",borderLeft:"2px solid",borderColor:"#F5CC00",marginLeft:"1rem",padding:"0.5em 2em",fontSize:"1em"},Jt=({children:e})=>jsx("div",{style:Ko,children:e}),Bo={fontWeight:400,textAlign:"left",margin:0,paddingInlineStart:"16px",lineHeight:"1.4em",opacity:.8,listStyleType:"disc"},Xt=({children:e,...t})=>jsx("ul",{style:Bo,...t,className:"fuel-connectors-disclaimer-list",children:e});function er(){let{dialog:{connector:e,_startConnection:t,back:r}}=P(),o=async()=>{if(e)try{await t(e);}catch(n){console.error("Connection failed:",n);}};return e?jsxs("div",{children:[jsxs(Jt,{children:[jsx("h2",{style:{...ze,color:"var(--fuel-color-bold)",fontSize:"1.2em",textAlign:"left",margin:0,padding:0},children:"Non-Native Wallet"}),jsx("p",{style:{...De,fontSize:"0.9em",textAlign:"left",margin:0,padding:0},children:"Fuel supports any wallet from Ethereum or Solana, but these wallets have limited functionality for now:"}),jsxs(Xt,{children:[jsxs("li",{children:[jsx("span",{style:{fontSize:"0.9em",fontWeight:600,color:"var(--fuel-gray-12)"},children:"Limited Balance Visibility"}),jsx("br",{}),jsx("span",{style:{fontSize:"0.8em",color:"var(--fuel-gray-11)"},children:"You cannot see balances natively in the wallet (e.g. Metamask). You must visit the Fuel Block Explorer to see balances."})]}),jsxs("li",{style:{marginTop:5,marginBottom:5},children:[jsx("span",{style:{fontSize:"0.9em",fontWeight:600,color:"var(--fuel-gray-12)"},children:"Signatures are Blind"}),jsx("br",{}),jsx("span",{style:{fontSize:"0.8em",color:"var(--fuel-gray-11)"},children:"Ensure you only use trusted applications."})]}),jsxs("li",{children:[jsx("span",{style:{fontSize:"0.9em",fontWeight:600,color:"var(--fuel-gray-12)"},children:"No Multi-Sigs"}),jsx("br",{}),jsx("span",{style:{fontSize:"0.8em",color:"var(--fuel-gray-11)"},children:"Multi-sigs and smart contract wallets (e.g. SAFE) are not supported."})]})]})]}),jsx(N,{onClick:o,children:"Proceed"}),jsx(J,{onClick:()=>r(),children:"Select a Native Wallet"})]}):null}var Oo="fuel_selected_predicate_version",Ho=e=>{try{let t=e.replace(/[^\d.]/g,""),r=bn(t);if(r.eq(0))return "0";let o=Number(r.format());return o<.001?"<0.001":o<1?o.toFixed(3):o<1e3?o.toFixed(2):o<1e4?o.toFixed(1):o<1e6?`${(o/1e3).toFixed(1)}K`:`${(o/1e6).toFixed(1)}M`}catch{return e}},zo=e=>jsx("div",{style:{padding:"0 14px",display:"flex",flexDirection:"column",gap:"16px"},...e}),nt=e=>jsx("p",{style:{margin:0,fontSize:"14px",color:"var(--fuel-gray-11)"},...e}),_o=e=>jsx("div",{style:{maxWidth:"400px",width:"100%"},...e}),Yo=e=>jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"var(--fuel-items-gap)"},...e}),Go=({selected:e,onClick:t,children:r})=>jsx("div",{style:{...Ze,border:"1px solid var(--fuel-blue-11)",borderColor:e?"var(--fuel-blue-11)":"transparent"},onClick:t,onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&t?.(o);},tabIndex:0,role:"button","aria-selected":e,className:"fuel-connectors-connector-item",children:r}),Zo=e=>jsx("span",{style:{fontSize:"0.875em",fontWeight:"500"},...e}),tr=({children:e,variant:t="default"})=>{let r="var(--fuel-blue-5)",o="var(--fuel-blue-11)";return t==="latest"?(r="var(--fuel-accent-background)",o="var(--fuel-accent-color)"):t==="current"&&(r="var(--fuel-blue-5)",o="var(--fuel-blue-11)"),jsx("span",{style:{fontSize:"11px",padding:"2px 6px",backgroundColor:r,color:o,borderRadius:"var(--fuel-border-radius)",fontWeight:"500",marginTop:"2px",display:"inline-block",marginRight:"4px"},children:e})},$o=({children:e})=>jsx("span",{style:{fontSize:"12px",padding:"2px 8px",borderRadius:"var(--fuel-border-radius)",marginTop:"2px",display:"inline-block",fontWeight:"500"},children:e});function ye(e){return !!e&&"getAvailablePredicateVersions"in e&&typeof e.getAvailablePredicateVersions=="function"&&"setSelectedPredicateVersion"in e&&typeof e.setSelectedPredicateVersion=="function"&&"getSelectedPredicateVersion"in e&&typeof e.getSelectedPredicateVersion=="function"&&"switchPredicateVersion"in e&&typeof e.switchPredicateVersion=="function"}function rr({theme:e}){let t=P(),r=t.dialog.route,o=t.cancel,[n,c]=useState([]),[d,l]=useState([]),[u,m]=useState(null),[h,S]=useState(!0),[T,b]=useState(null),D=te(),re=W(),f=t.dialog.connector||D.currentConnector,w=re.isConnected,F=r==="PREDICATE_VERSION_SELECTOR";useEffect(()=>{if(f&&ye(f))try{let g=localStorage.getItem(Oo);g&&(f.setSelectedPredicateVersion(g),m(g));}catch(g){console.error("Error loading saved predicate version:",g);}},[f]);let z=useCallback(async()=>{if(!(!f||!ye(f)))try{if(f.getAllPredicateVersionsWithMetadata){let v=[...await f.getAllPredicateVersionsWithMetadata()].sort((K,Ve)=>Ve.generatedAt-K.generatedAt);l(v);let L=v.find(K=>K.isSelected);L&&m(L.id);}}catch(g){console.error("Error fetching predicate versions with metadata:",g);}},[f]);useEffect(()=>{F&&(S(!0),b(null));},[F]),useEffect(()=>{if(!F||!f)return;(async()=>{try{if(ye(f)){let v=f.getAvailablePredicateVersions();c(v);let L=f.getSelectedPredicateVersion();if(L)m(L);else if(v.length>0)if(f.getSmartDefaultPredicateVersion)try{let K=await f.getSmartDefaultPredicateVersion();m(K||v[0].id);}catch(K){console.error("Failed to get smart default, falling back to newest:",K),m(v[0].id);}else m(v[0].id);S(!1),w&&z();}else b("This connector does not support predicate version selection."),S(!1);}catch(v){console.error("Failed to load predicate versions:",v),b("Failed to load predicate versions. Please try again."),c([]),l([]),S(!1);}})();},[f,F,w,z]),useEffect(()=>{w&&f&&ye(f)&&z();},[w,f,z]);let ie=async g=>{if(!(!f||!ye(f)))try{await f.switchPredicateVersion(g),m(g),b(null);}catch(v){console.error("Failed to set predicate version:",v),b("Failed to set predicate version. Please try again.");}},ve=(g,v)=>g?v?v.startsWith("0x")&&v.length>=10?`${v.slice(0,6)}....${v.slice(-4)}`:v:`${g.substring(0,10)}...${g.substring(g.length-8)}`:"",be=g=>{if(!g.isActive||!g.balance)return null;let v=Ho(g.balance);return jsxs($o,{children:[v," ETH"]})},xe=()=>{if(u&&f&&ye(f))try{if(f.getSelectedPredicateVersion()===u){o();return}f.switchPredicateVersion(u).then(()=>{o();}).catch(v=>{console.error("Failed to switch predicate version:",v),setTimeout(()=>{f.disconnect();},500),o();});}catch(g){console.error("Failed to set predicate version before closing:",g),o();}else o();},Pe=()=>jsxs(Fragment,{children:[jsx(q,{children:"Loading Fuel Accounts"}),jsx(nt,{children:"Please wait while we load available accounts..."})]}),We=()=>jsxs(Fragment,{children:[jsx(q,{children:"Fuel Accounts"}),jsx(nt,{children:"No additional Fuel accounts were found for this wallet. Your wallet is using the default account."})]}),x=()=>jsxs(Fragment,{children:[jsx(q,{children:"Error Loading Accounts"}),jsx(nt,{children:T})]});return jsx(H,{open:F,theme:e,children:jsxs(O,{children:[jsx(j,{children:h?Pe():n.length===0?We():T?x():jsx(q,{style:{margin:"auto"},children:"Select Fuel Account"})}),jsx(ee,{}),jsx(_o,{children:n.length>0?jsxs(zo,{children:[jsx(Yo,{children:(d.length>0?d:n).map(g=>{let L="isSelected"in g?g:null,K=L?.isSelected,Ve=L?.isNewest;return jsxs(Go,{selected:g.id===u,onClick:()=>ie(g.id),children:[jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[jsx(Zo,{children:ve(g.id,L?.accountAddress)}),jsxs("div",{style:{display:"flex",marginTop:"4px"},children:[Ve&&jsx(tr,{variant:"latest",children:"Latest version"}),K&&jsx(tr,{variant:"current",children:"Currently selected"})]})]}),jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",marginLeft:"auto"},children:L&&be(L)})]},g.id)})}),jsx(N,{onClick:xe,children:"Confirm Selection"})]}):null})]})})}function nr({size:e=24,theme:t="light"}){return jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":"Error Icon",role:"img",children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM11 17V15H13V17H11ZM11 7V13H13V7H11Z",fill:t==="light"?"#f25a68":"#ff6b7a"})})}function ir({theme:e}){let{cancel:t}=P();return jsx(H,{open:!0,theme:e,onOpenChange:()=>t(),children:jsxs(O,{"data-connector":!0,children:[jsxs(j,{children:[jsx(de,{size:32,"data-connector":!1}),jsx(q,{children:"Signature Error"}),jsx(Fe.Close,{asChild:!0,children:jsx(pe,{size:32,onClick:()=>t()})})]}),jsx(ee,{}),jsx(ue,{children:jsxs("div",{children:[jsx($,{children:jsx(nr,{size:100,theme:e})}),jsxs(V,{children:[jsx(Z,{children:"Failed to Sign Message"}),jsx(_,{children:"If you are using a Ledger device, please check the troubleshooting guide below."})]}),jsx(N,{href:"https://docs.fuel.network/guides/fuel-connectors/solana-ledger-connection",target:"_blank",children:"View Troubleshooting Guide"}),jsx(J,{onClick:()=>t(),children:"Close"})]})})]})})}var Jo=({route:e})=>{let{theme:t}=P();switch(e){case"LIST":return jsx(Kt,{});case"INSTALL":return jsx(St,{});case"PREDICATE_EXTERNAL_DISCLAIMER":return jsx(er,{});case"PREDICATE_ADDRESS_DISCLAIMER":return jsx(Ot,{});case"PREDICATE_VERSION_SELECTOR":return jsx(rr,{theme:t});case"CONNECTING":return jsx(Ht,{});case"SIGNATURE_ERROR":return jsx(ir,{theme:t});default:return null}};function lr(){let{theme:e,cancel:t,dialog:{isOpen:r,route:o,connector:n,back:c}}=P();return jsx(H,{open:r,theme:e,onOpenChange:l=>{l||t();},children:jsxs(O,{"data-connector":!!n,children:[jsxs(j,{children:[jsx(de,{size:32,onClick:c,"data-connector":!!n}),jsx(q,{children:"Connect Wallet"}),jsx(Fe.Close,{asChild:!0,children:jsx(pe,{size:32,onClick:()=>t()})})]}),jsx(ee,{}),jsx(ue,{children:jsx(Jo,{route:o})})]})})}function dr({size:e,...t}){return jsxs("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 95 95",width:e,height:e,...t,children:[jsx("title",{children:"No Funds Icon"}),jsx("path",{d:"M46.88 90.124C30.395 90.124 20 74.39 20 46.679 20 18.97 30.395 3 46.88 3s26.88 15.969 26.88 43.68c0 27.71-10.395 43.444-26.88 43.444Zm0-13.15c8.505 0 13.44-11.038 13.44-30.295 0-6.223-.525-11.624-1.47-16.086L39.005 72.511c2.1 2.936 4.725 4.462 7.875 4.462ZM33.44 46.678c0 6.106.525 11.507 1.47 15.852l19.845-41.918c-2.1-2.936-4.725-4.462-7.875-4.462-8.505 0-13.44 11.154-13.44 30.528Z",fill:"#EEE"}),jsx("path",{d:"M67 91.281c5.523 0 10-4.876 10-10.89C77 74.376 72.523 69.5 67 69.5s-10 4.876-10 10.89c0 6.015 4.477 10.891 10 10.891Z",fill:"#000"}),jsx("path",{d:"M67 91.281c5.523 0 10-4.876 10-10.89C77 74.376 72.523 69.5 67 69.5s-10 4.876-10 10.89c0 6.015 4.477 10.891 10 10.891Z",fill:"#627EEA"}),jsx("path",{d:"M67 91.281c5.523 0 10-4.876 10-10.89C77 74.376 72.523 69.5 67 69.5s-10 4.876-10 10.89c0 6.015 4.477 10.891 10 10.891Z",fill:"url(#a)",style:{"mix-blend-mode":"soft-light"}}),jsx("path",{d:"M67.166 73.13v5.368l4.166 2.027-4.166-7.395Z",fill:"#fff",fillOpacity:".602"}),jsx("path",{d:"M67.166 73.13 63 80.525l4.166-2.027V73.13Z",fill:"#fff"}),jsx("path",{d:"M67.166 84.004v3.647l4.17-6.281-4.17 2.634Z",fill:"#fff",fillOpacity:".602"}),jsx("path",{d:"M67.166 87.65v-3.646L63 81.37l4.166 6.28Z",fill:"#fff"}),jsx("path",{d:"m67.166 83.16 4.166-2.635-4.166-2.026v4.66Z",fill:"#fff",fillOpacity:".2"}),jsx("path",{d:"m63 80.525 4.166 2.634V78.5L63 80.525Z",fill:"#fff",fillOpacity:".602"}),jsx("defs",{children:jsxs("linearGradient",{id:"a",x1:"67",y1:"69.5",x2:"67",y2:"91.281",gradientUnits:"userSpaceOnUse",children:[jsx("stop",{stopColor:"#fff",stopOpacity:".5"}),jsx("stop",{offset:"1",stopOpacity:".5"})]})})]})}function Ue(e){return {networks:useMemo(()=>e?e.map(r=>r.chainId?{...mt.find(n=>n.chainId===r.chainId),...r}:r):[He],[e])??[]}}function fr({theme:e}){let{networks:t}=Ue(),{provider:r}=E(),[o,n]=useState(null);useEffect(()=>{let D=!1;return (async()=>{if(D)return;let f=await r?.getChainId(),w=t.find(F=>F.chainId===f);if(!D)if(w?.bridgeURL){let F=new URL(w.bridgeURL);F.searchParams.set("","true"),n(F.toString());}else n(null);})(),()=>{D=!0;}},[t,r]);let{isConnected:c,uiConfig:d,dialog:{isOpen:l}}=P(),{isSupportedNetwork:u}=Me(),{account:m}=Le(),{balance:h}=yr({account:m}),[S,T]=useState(!1),b=useMemo(()=>S||l||!o||!d.suggestBridge||!c||!u?!1:!!h?.isZero(),[d,h,u,c,S,o,l]);return jsx(H,{open:b,theme:e,onOpenChange:D=>{D||T(!0);},children:jsxs(O,{"data-connector":!0,children:[jsxs(j,{children:[jsx(de,{size:32,"data-connector":!1}),jsx(q,{children:"Bridge Funds"}),jsx(Fe.Close,{asChild:!0,children:jsx(pe,{size:32})})]}),jsx(ee,{}),jsx(ue,{children:jsxs("div",{children:[jsx($,{children:jsx(dr,{size:100,theme:e})}),jsxs(V,{children:[jsxs(Z,{children:["Bridge Funds ",jsx("br",{})," to Fuel Ignition"]}),jsx(_,{children:"Looks like you don't have ETH balance, bridge funds to Fuel Ignition and use the application without stopping."})]}),jsx(N,{href:o??"",target:"_blank",children:"Bridge now"}),jsx(J,{onClick:()=>T(!0),children:"Continue to application"})]})})]})})}var te=({query:e}={})=>{let{fuel:t}=p();return y("currentConnector",{queryKey:a.currentConnector(),queryFn:async()=>await t.isConnected()?t.currentConnector()??null:null,placeholderData:null,...e})};var W=e=>{let{fuel:t}=p();return y("isConnected",{queryKey:a.isConnected(),queryFn:async()=>{try{return await t.isConnected()||!1}catch{return !1}},placeholderData:!1,...e?.query,refetchInterval:1e3})};var qe=e=>{let{fuel:t}=p(),{isConnected:r}=W();return y("network",{queryKey:a.currentNetwork(),queryFn:async()=>{let o=await t.currentNetwork();if(!o&&r)throw new Error("Network not found");return o},placeholderData:null,refetchOnMount:!0,refetchInterval:o=>!o.state.data||o.state.error?4e3:!1,enabled:r,...e?.query})};function Me(e){let{networks:t}=p(),{network:r}=qe(),{isConnected:o}=W(),{currentConnector:n}=te();return y("isSupportedNetwork",{queryKey:a.isSupportedNetwork(n?.name,t,r,o),queryFn:async()=>{if(!n||!o||!r)return !0;let c=r.chainId;return c==null&&(c=await new Provider(r.url).getChainId()),!!t.find(d=>d.chainId===c)},placeholderData:!0,...e})}var gr="0.8em",rn={position:"relative",padding:"calc(0.8em + 4px) 16px 0.8em 16px"},Cr=({children:e})=>jsx("div",{style:rn,children:e}),on={display:"flex",flexDirection:"column",alignItems:"center",gap:"var(--fuel-items-gap)"},hr=({children:e})=>jsx("div",{style:on,children:e}),nn={textAlign:"center",fontSize:"1.2em",fontWeight:500,color:"var(--fuel-color-bold)",lineHeight:1},vr=({children:e})=>jsx("h2",{style:nn,children:e}),an={height:"1px",width:"100%",backgroundColor:"var(--fuel-separator-color)",margin:"10px 0",boxSizing:"border-box"},it=()=>jsx("div",{style:an}),sn={margin:"20px 20px 0 20px",display:"flex",flexDirection:"column",alignItems:"center",gap:gr,marginBottom:gr},br=({children:e})=>jsx("div",{style:sn,children:e}),xr={fontWeight:400,textAlign:"center",lineHeight:"1.2em",color:"var(--fuel-gray-11)",marginBottom:"10px",marginTop:"10px"},Pr=({children:e})=>jsx("p",{style:xr,children:e}),cn={...xr,marginBottom:"4px",marginTop:"4px"},st=({children:e})=>jsx("p",{style:cn,children:e}),ln={fontWeight:400,textAlign:"center",lineHeight:"1.2em",opacity:.8,color:"var(--fuel-color-error)"},Sr=({children:e})=>jsx("div",{style:ln,children:e}),ct={width:"100%",height:"40px",display:"flex",borderRadius:"11px",textDecoration:"none",justifyContent:"center",alignItems:"center",margin:"0.4rem 0",fontSize:"0.875em",marginBottom:0,color:"var(--fuel-black-color)"},Tr=e=>jsx("input",{style:ct,...e,className:"fuel-connectors-button-base fuel-connectors-button"}),un={...ct,backgroundColor:"var(--fuel-button-background)",color:"var(--fuel-color-bold)"},wr=e=>jsx("input",{style:un,...e,className:"fuel-connectors-button-base fuel-connectors-button-disconnect"}),dn={fontWeight:400,textAlign:"center",lineHeight:1,color:"var(--fuel-gray-11)"},Dr=({children:e})=>jsx("div",{style:dn,children:e}),pn={...ct,marginBottom:0},kr=({children:e,...t})=>jsx("div",{style:pn,...t,className:"fuel-connectors-button-base",children:e});function Rr({theme:e}){let{networks:t}=p(),{disconnect:r}=Nr(),{currentConnector:o}=te(),{isSupportedNetwork:n}=Me(),{selectNetwork:c,isError:d,error:l,isPending:u}=Ir(),{isConnected:m}=W(),{data:h}=useQuery({queryKey:["chainName",t[0]],queryFn:async()=>t[0].url?(await new Provider(t[0].url).getChain()).name:"",placeholderData:""});function S(){t[0].chainId!=null&&c({chainId:t[0].chainId,url:t[0].url});}function T(){r();}function b(){return d&&(l?.message==="Method not implemented."||l?.message==="Method not found")?"The selected Wallet does not support switching networks, please switch manually in your wallet.":d?l?.message||"Failed to switch network":""}return t==null||!m?null:jsx(H,{open:!n&&!!h,theme:e,children:jsx(O,{"data-connector":!!o,onPointerDownOutside:D=>{D.preventDefault();},onEscapeKeyDown:D=>{D.preventDefault();},children:jsx(Cr,{children:jsxs(hr,{children:[jsxs(br,{children:[jsx(vr,{children:"Network Switch Required"}),jsx(Pr,{children:"This app does not support the current connected network."}),h&&jsxs(Fragment,{children:[jsx(st,{children:"Switch to:"}),jsx(st,{children:jsx("span",{style:{fontWeight:"bold"},children:h})})]}),!!d&&jsx(Sr,{children:b()})]}),!u&&jsx(Tr,{type:"button",disabled:u,onClick:S,value:"Switch Network"}),u&&jsx(kr,{children:jsx(Ie,{size:26,color:"var(--fuel-loader-background)"})}),jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"6px",width:"100%"},children:[jsx(it,{}),jsx(Dr,{children:"or"}),jsx(it,{})]}),jsx(wr,{type:"button",onClick:T,value:"Disconnect",color:"var(--fuel-border-color)"})]})})})})}function Ll({theme:e,children:t,fuelConfig:r,uiConfig:o,ui:n=!0,networks:c}){let d=e||"light",{networks:l}=Ue(c),u=useMemo(()=>Object.assign({suggestBridge:!0},o??{}),[o]);return n?jsx(et,{fuelConfig:r,networks:l,children:jsxs(ht,{theme:d,fuelConfig:r,uiConfig:u,children:[jsx(lr,{}),jsx(Rr,{theme:d}),u.suggestBridge&&jsx(fr,{theme:d}),t]})}):jsx(et,{fuelConfig:r,networks:l,children:t})}var Le=e=>{let{fuel:t}=p();return y("account",{queryKey:a.account(),queryFn:async()=>{try{return await t?.currentAccount()}catch{return null}},placeholderData:null,...e?.query})};var eu=e=>{let{fuel:t}=p();return y("accounts",{queryKey:a.accounts(),queryFn:async()=>{try{return await t.accounts()}catch{return []}},placeholderData:[],...e?.query})};var iu=()=>{let{fuel:e}=p(),{mutate:t,mutateAsync:r,...o}=useMutation({mutationKey:[Se.addAssets],mutationFn:async n=>Array.isArray(n)?e.addAssets(n):e.addAsset(n)});return {addAssets:t,addAssetsAsync:r,...o}};var pu=()=>{let{fuel:e}=p(),{mutate:t,mutateAsync:r,...o}=useMutation({mutationKey:[Se.addNetwork],mutationFn:async n=>e.addNetwork(n)});return {addNetwork:t,addNetworkAsync:r,...o}};var hu=e=>{let{fuel:t}=p();return y("assets",{queryKey:a.assets(),queryFn:async()=>{try{return await t.assets()}catch{return []}},placeholderData:[],...e?.query})};function Er(e){let{fuel:t,networks:r}=p(),{network:o}=qe(),{account:n}=Le(),c=typeof e=="string"?{account:e}:e??{};return y("wallet",{queryKey:a.wallet(n,o?.url),queryFn:async()=>{try{if(!n||!o?.url)return null;await Address.fromString(n);let l=await t.getWallet(n),u=r.find(m=>m.chainId===o.chainId);if(u?.url&&u.url!==o.url){let m=new Provider(u.url);l.connect(m);}return l}catch{return null}},enabled:!!n&&!!o?.url,placeholderData:null,...c.query})}var E=e=>{let{wallet:t}=Er();return {provider:useMemo(()=>t?.provider,[t?.provider,t?.provider.url])}};var yr=({address:e,account:t,assetId:r,query:o})=>{let{provider:n}=E(),c=t??e??void 0,[d,l]=useState();return useEffect(()=>{(async()=>{let m=await n?.getChainId();l(m);})();},[n]),y("balance",{queryKey:a.balance(c,r,d),queryFn:async()=>{try{if(!n)throw new Error("Provider is needed");let u=r||await n.getBaseAssetId();return await n.getBalance(Address.fromString(c||""),u)||null}catch{return null}},placeholderData:null,enabled:!!n&&!!c,...o})};var Ou=e=>{let{provider:t}=E();return y("chain",{queryKey:a.chain(),queryFn:async()=>{try{return await t?.getChain()||null}catch{return null}},placeholderData:null,enabled:!!t,...e?.query})};var Nn=e=>"functions"in e,$u=({contract:e,functionName:t,args:r})=>{let o=Nn(e),[n,c]=useState(void 0);return useEffect(()=>{(async()=>{let l=await e?.provider?.getChainId();c(l);})();},[e]),y("contractRead",{queryKey:a.contract(o?e?.id?.toString():e?.address?.toString(),n,r?.toString()),queryFn:async()=>{if(!(o?!!e&&"provider"in e:!!e.abi&&!!e.address&&!!e.provider))throw new Error("Invalid input `contract` is required to read the contract");let l=o?e:new Contract(e.address,e.abi,e.provider);if(!l?.functions?.[t])throw new Error(`Function ${t||""} not found on contract`);if(l.functions[t].isReadOnly?.()!==void 0?!l.functions[t].isReadOnly():Object.values(l.interface.functions).find(m=>m.name===t)?.attributes?.find(m=>m.name==="storage")?.arguments?.includes("write"))throw new Error("Methods that write to storage should not be called with useContractRead");return r!==void 0?l.functions[t](r):l.functions[t]()},placeholderData:void 0})};var Nr=()=>{let{fuel:e}=p(),{mutate:t,mutateAsync:r,...o}=useMutation({mutationFn:async()=>e?.disconnect()});return {disconnect:t,disconnectAsync:r,...o}};var id=e=>{let{fuel:t}=p();return y("networks",{queryKey:a.networks(),queryFn:t.networks,placeholderData:[],...e?.query})};var En=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,lt=e=>{if(typeof e!="string")throw new TypeError("Invalid argument expected string");let t=e.match(En);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},Fr=e=>e==="*"||e==="x"||e==="X",Ar=e=>{let t=parseInt(e,10);return isNaN(t)?e:t},Fn=(e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t],An=(e,t)=>{if(Fr(e)||Fr(t))return 0;let[r,o]=Fn(Ar(e),Ar(t));return r>o?1:r<o?-1:0},ut=(e,t)=>{for(let r=0;r<Math.max(e.length,t.length);r++){let o=An(e[r]||"0",t[r]||"0");if(o!==0)return o}return 0};var Qr=(e,t)=>{let r=lt(e),o=lt(t),n=r.pop(),c=o.pop(),d=ut(r,o);return d!==0?d:n&&c?ut(n.split("."),c.split(".")):n||c?n?-1:1:0};var dt=(e,t,r)=>{Qn(r);let o=Qr(e,t);return Mr[r].includes(o)},Mr={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},Ur=Object.keys(Mr),Qn=e=>{if(Ur.indexOf(e)===-1)throw new Error(`Invalid operator, expected one of ${Ur.join("|")}`)};var Td=({version:e="0.0.0",query:t}={})=>{let{provider:r}=E(),o=y("nodeInfo",{queryKey:a.nodeInfo(r?.url),queryFn:()=>{try{return r?.fetchNode()||null}catch{return null}},placeholderData:null,enabled:!!r,...t});return new Proxy(o,{get(n,c){return c==="isCompatible"?n.nodeInfo?.nodeVersion?dt(n.nodeInfo?.nodeVersion,e,">="):null:Reflect.get(n,c)}})};var Ir=()=>{let{fuel:e}=p(),{mutate:t,mutateAsync:r,...o}=useMutation({mutationFn:e.selectNetwork});return {selectNetwork:t,selectNetworkAsync:r,...o}};var Qd=()=>{let{fuel:e}=p(),{mutate:t,mutateAsync:r,...o}=useMutation({mutationFn:({address:n,transaction:c})=>{let d=Address.fromDynamicInput(n).toString();return e.sendTransaction(d,c)}});return {sendTransaction:t,sendTransactionAsync:r,...o}};var Bd=()=>{let{currentConnector:e}=te(),{mutate:t,mutateAsync:r,...o}=useMutation({mutationFn:async({address:n,transaction:c,params:d})=>{if(!e)throw new Error("No connector found, please connect first");let l=e;if(!l.connected)throw new Error("Connector not connected");if(!("signTransaction"in l))throw new Error("Connector does not support signTransaction");let u=new Address(n).toString();return l.signTransaction(u,c,d)}});return {signTransaction:t,signTransactionAsync:r,...o}};var _d=e=>{let{fuel:t}=p();return y("transaction",{queryKey:a.transaction(e),queryFn:async()=>{try{let r=await t?.getProvider();return r?await r.getTransaction(e||""):null}catch{return null}},placeholderData:null,enabled:!!e})};var Be=e=>{let{provider:t}=E();return y("chainId",{queryKey:a.chainId(),queryFn:async()=>{try{return await t?.getChainId()||null}catch{return null}},placeholderData:null,enabled:!!t,...e?.query})};var ap=({txId:e,query:t})=>{let{provider:r}=E(),{chainId:o}=Be();return y("transactionReceipts",{queryKey:a.transactionReceipts(e,o),queryFn:async()=>{try{if(!r)return null;let n=new TransactionResponse(e||"",r,await r.getChainId());if(!n)return null;let{receipts:c}=await n.waitForResult();return c||null}catch{return null}},placeholderData:null,enabled:!!e,...t})};var mp=({txId:e="",query:t={}})=>{let{provider:r}=E(),{chainId:o}=Be(),{name:n="transactionResult",...c}=t;return y(n,{queryKey:a.transactionResult(e,o),queryFn:async()=>r&&await new TransactionResponse(e,r,await r.getChainId()).waitForResult()||null,placeholderData:null,enabled:!!e,...c})};

export { Ll as FuelProvider, Se as MUTATION_KEYS, a as QUERY_KEYS, Te as isNativeConnector, Le as useAccount, eu as useAccounts, iu as useAddAssets, pu as useAddNetwork, hu as useAssets, yr as useBalance, Ou as useChain, Be as useChainId, pt as useConnect, P as useConnectUI, ft as useConnectors, $u as useContractRead, te as useCurrentConnector, Nr as useDisconnect, p as useFuel, W as useIsConnected, Me as useIsSupportedNetwork, y as useNamedQuery, qe as useNetwork, id as useNetworks, Td as useNodeInfo, E as useProvider, Ir as useSelectNetwork, Qd as useSendTransaction, Bd as useSignTransaction, _d as useTransaction, ap as useTransactionReceipts, mp as useTransactionResult, Er as useWallet };
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.mjs.map